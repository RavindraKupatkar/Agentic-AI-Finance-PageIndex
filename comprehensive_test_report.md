# FinSight AI ‚Äî Comprehensive Test Report

> **Generated:** 2026-02-28 04:11 UTC
> **Backend:** `http://localhost:8000/api/v1`

## Executive Summary

| Metric | Value |
|--------|-------|
| Total Tests | **34** |
| Passed | **23** ‚úÖ |
| Failed | **11** ‚ùå |
| Pass Rate | **67.6%** |

## 1. Functional Tests

| Test | Status | Latency | Details |
|------|--------|---------|---------|
| Health Check | ‚úÖ | 2315ms | Status: ok |
| List Documents | ‚úÖ | 1083ms | Found 5 indexed documents |
| Simple Query | ‚úÖ | 23428ms | Answer length: 840 chars, Confidence: 0.9 |
| Complex Query | ‚ùå | 60004ms | Response:  |
| Telemetry Logging | ‚ùå | 267ms | Found 0 recent telemetry entries |
| Create Conversation | ‚úÖ | 38ms | Created conv: 00e1cf04-54e6-4b13-9db9-f5f32795bac3 |
| List Conversations | ‚úÖ | 21ms | Found 7 conversations |
| Delete Conversation | ‚úÖ | 13ms | Deleted 00e1cf04-54e6-4b13-9db9-f5f32795bac3 |

## 2. Stress Test Results

| Concurrency | Success Rate | Avg Latency | Min | Max | Errors |
|-------------|-------------|-------------|-----|-----|--------|
| 3 | 1/3 | 53119ms | 38787ms | 60284ms | 2 |
| 5 | 1/5 | 60113ms | 59463ms | 60277ms | 4 |

- ‚ùå **3 Concurrent**: Success: 1/3, Avg: 53119ms, Max: 60284ms
- ‚ùå **5 Concurrent**: Success: 1/5, Avg: 60113ms, Max: 60277ms
- ‚úÖ **Rapid Fire (5 seq)**: Success: 5/5, Avg: 32204ms

## 3. Security & Penetration Tests

| Attack Vector | Status | HTTP Code | Details |
|---------------|--------|-----------|---------|
| SQL Injection (thread_id) | ‚ùå | 0 | Code: 0, Warnings: None |
| SQL Injection (question) | ‚ùå | 0 | Code: 0, Warnings: None |
| Prompt Injection | ‚úÖ | 200 | Code: 200, Warnings: ['Potential prompt injection detected'] |
| Prompt Leak Attempt | ‚úÖ | 200 | Code: 200, Warnings: ['Potential prompt injection detected'] |
| PII Detection (SSN) | ‚ùå | 0 | Code: 0, PII warnings: [] |
| XSS Payload | ‚ùå | 0 | Code: 0, Script in response: False |
| Massive Payload | ‚úÖ | 422 | Code: 422 (expected 422) |
| Empty Query | ‚úÖ | 422 | Code: 422 (expected 422) |
| Unicode/Emoji | ‚úÖ | 200 | Code: 200 |

## 4. RAG Evaluation Metrics

### System Scorecard

| Metric | Avg Score | Rating |
|--------|-----------|--------|
| Faithfulness | 0.86 | üü¢ Excellent |
| Answer Relevancy | 0.65 | üü° Good |
| Confidence | 0.57 | üü† Fair |
| Hallucination Rate | 0.34 | üü° Good |

### Per-Query Breakdown

| # | Query | Faith | Relev | Conf | Halluc | Sources | Answer Preview |
|---|-------|-------|-------|------|--------|---------|----------------|
| 1 | What are the key financial highligh... | 1.0 | 0.8 | 0.8 | 0.2 | 41 | The key financial highlights mentioned i... |
| 2 | What was the total revenue or incom... | 0.6 | 0.75 | 0.7 | 0.3 | 3 | There is no information provided about t... |
| 3 | Summarize the main risks or challen... | 1.0 | 0.8 | 0.6 | 0.4 | 20 | The main risks or challenges mentioned a... |
| 4 | What is the organizational structur... | 1.0 | 0.67 | 0.6 | 0.4 | 36 | The organizational structure is not expl... |
| 5 | Who painted the Mona Lisa? | 0.7 | 0.25 | 0.15 | 0.4 | 0 | There is no information provided about t... |

### Metric Definitions

| Metric | Description |
|--------|-------------|
| **Faithfulness** | Are claims in the answer supported by retrieved page content? |
| **Answer Relevancy** | Does the answer address the question's key terms? |
| **Confidence** | System's self-assessed confidence (from Critic + Generator) |
| **Hallucination Rate** | Estimated rate of unsupported claims (lower = better) |
| **Citation Accuracy** | Do cited sources match real indexed documents? |

## 5. API Validation

| Test | Status | Details |
|------|--------|---------|
| Missing 'question' field | ‚úÖ | Code: 422 (expected 422) |
| Invalid JSON | ‚úÖ | Code: 422 |
| GET on POST endpoint | ‚úÖ | Code: 405 (expected 405) |
| 404 for missing endpoint | ‚úÖ | Code: 404 (expected 404) |
| Response Schema | ‚úÖ | All required fields present |
| CORS Headers | ‚úÖ | CORS present: True, Status: 405 |

## 6. Output Guardrail Tests

| Scenario | Status | Details |
|----------|--------|---------|
| Financial Advice Disclaimer | ‚ùå |  |
| Out-of-Scope Rejection | ‚ùå |  |
| PII Not Leaked in Response | ‚ùå |  |

---

*Report generated by `test_comprehensive.py` ‚Äî FinSight AI Testing Suite*